<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<title>clEnqueueSVMMigrateMem</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
</head>
<body id="clEnqueueSVMMigrateMem" class="article">
<div id="header">
<h1>clEnqueueSVMMigrateMem</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Enqueues a command to indicate which device a set of ranges of SVM allocations should be associated with.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">cl_int clEnqueueSVMMigrateMem(cl_command_queue command_queue,
                              cl_uint num_svm_pointers,
                              const void **svm_pointers,
                              const size_t *sizes,
                              const cl_mem_migration_flags flags,
                              cl_uint num_events_in_wait_list,
                              const cl_event *event_wait_list,
                              cl_event *event)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="parameters">Parameters</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>command_queue</code></dt>
<dd>
<p>A valid host command queue.
The specified set of allocation ranges will be migrated to the OpenCL device associated with <code>command_queue</code>.</p>
</dd>
<dt class="hdlist1"><code>num_svm_pointers</code></dt>
<dd>
<p>The number of pointers in the specified <code>svm_pointers</code> array, and the number of sizes in the <code>sizes</code> array, if <code>sizes</code> is not NULL.</p>
</dd>
<dt class="hdlist1"><code>svm_pointers</code></dt>
<dd>
<p>A pointer to an array of pointers.
Each pointer in this array must be within an allocation produced by a call to <a href="clSVMAlloc.html"><code>clSVMAlloc</code></a>.</p>
</dd>
<dt class="hdlist1"><code>sizes</code></dt>
<dd>
<p>An array of sizes.
The pair <code>svm_pointers</code>[i] and <code>sizes</code>[i] together define the starting address and number of bytes in a range to be migrated.
<code>sizes</code> may be NULL indicating that every allocation containing any <code>svm_pointer</code>[i] is to be migrated.
Also, if <code>sizes</code>[i] is zero, then the entire allocation containing <code>svm_pointer</code>[i] is migrated.</p>
</dd>
<dt class="hdlist1"><code>flags</code></dt>
<dd>
<p>A bit-field that is used to specify migration options.
Table 5.12 describes the possible values for <code>flags</code>.</p>
</dd>
<dt class="hdlist1"><code>event_wait_list ,</code> <code>num_events_in_wait_list</code></dt>
<dd>
<p>Specify events that need to complete before this particular command can be executed.
If <code>event_wait_list</code> is NULL, then this particular command does not wait on any event to complete.
If <code>event_wait_list</code> is NULL, <code>num_events_in_wait_list</code> must be 0.
If <code>event_wait_list</code> is not NULL, the list of events pointed to by <code>event_wait_list</code> must be valid and <code>num_events_in_wait_list</code> must be greater than 0.
The events specified in <code>event_wait_list</code> act as synchronization points.
The context associated with events in <code>event_wait_list</code> and <code>command_queue</code> must be the same.
The memory associated with <code>event_wait_list</code> can be reused or freed after the function returns.</p>
</dd>
<dt class="hdlist1"><code>event</code></dt>
<dd>
<p>Returns an event object that identifies this particular write command and can be used to query or queue a wait for this particular command to complete.
<code>event</code> can be NULL in which case it will not be possible for the application to query the status of this command or queue another command that waits for this command to complete.
If the <code>event_wait_list</code> and the <code>event</code> arguments are not NULL, the <code>event</code> argument should not refer to an element of the <code>event_wait_list</code> array.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="notes">Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Enqueues a command to indicate which device a set of ranges of SVM allocations should be associated with.
Once the event returned by <code>clEnqueueSVMMigrateMem</code> has become <code>CL_COMPLETE</code>, the ranges specified by <code>svm pointers</code> and <code>sizes</code> have been successfully migrated to the device associated with <code>command queue</code>.</p>
</div>
<div class="paragraph">
<p>The user is responsible for managing the event dependencies associated with this command in order to avoid overlapping access to SVM allocations.
Improperly specified event dependencies passed to <code>clEnqueueSVMMigrateMem</code> could result in undefined results.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="errors">Errors</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>clEnqueueSVMMigrateMem</code> returns <code>CL_SUCCESS</code> if the function is executed successfully.
Otherwise, it returns one of the following errors.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CL_INVALID_COMMAND_QUEUE</code> if <code>command_queue</code> is not a valid host command-queue.</p>
</li>
<li>
<p><code>CL_INVALID_CONTEXT</code> if the context associated with <code>command_queue</code> and events in <code>event_wait_list</code> are not the same.</p>
</li>
<li>
<p><code>CL_INVALID_VALUE</code> if <code>num_svm_pointers</code> is zero or <code>svm_pointers</code> is NULL.</p>
</li>
<li>
<p><code>CL_INVALID_VALUE</code> if <code>sizes</code>[i] is non-zero range [<code>svm_pointers</code>[i], <code>svm_pointers</code>[i]+<code>sizes</code>[i]) is not contained within an existing <a href="clSVMAlloc.html"><code>clSVMAlloc</code></a> allocation.</p>
</li>
<li>
<p><code>CL_INVALID_EVENT_WAIT_LIST</code> if <code>event_wait_list</code> is NULL and <code>num_events_in_wait_list</code> &gt; 0, or <code>event_wait_list</code> is not NULL and <code>num_events_in_wait_list</code> is 0, or if event objects in <code>event_wait_list</code> are not valid events.</p>
</li>
<li>
<p><code>CL_OUT_OF_RESOURCES</code> if there is a failure to allocate resources required by the OpenCL implementation on the device.</p>
</li>
<li>
<p><code>CL_OUT_OF_HOST_MEMORY</code> if there is a failure to allocate resources required by the OpenCL implementation on the host.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seealso">Also see</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="sharedVirtualMemory.html">Shared Virtual Memory Functions</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="specification">Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.khronos.org/registry/cl/specs/opencl-2.1.pdf#page=187" target="_blank">OpenCL 2.1 API Specification, page 187</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="copyright">Copyright</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="copyright.html">Copyright &#169; 2007-2017 The Khronos Group Inc.</a></p>
</div>
</div>
</div>
</div>
</body>
</html>