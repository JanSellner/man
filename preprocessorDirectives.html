<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<title>Preprocessor Directives and Macros</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
</head>
<body id="PreprocessorDirectivesandMacros" class="article">
<div id="header">
<h1>Preprocessor Directives and Macros</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Preprocessor Directives and Macros.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># pragma pp-tokensopt new-line</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The preprocessing directives defined by the C99 specification are supported.</p>
</div>
<div class="paragraph">
<p>A <code># pragma</code> directive where the preprocessing token <code>OPENCL</code> (used instead of <code>STDC</code>) does not immediately follow <code>pragma</code> in the directive (prior to any macro replacement) causes the implementation to behave in an implementation-defined manner.
The behavior might cause translation to fail or cause the translator or the resulting program to behave in a non-conforming manner.
Any such <code>pragma</code> that is not recognized by the implementation is ignored.
If the preprocessing token <code>OPENCL</code> does immediately follow <code>pragma</code> in the directive (prior to any macro replacement), then no macro replacement is performed on the directive, and the directive shall have one of the following forms whose meanings are described elsewhere:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>          #pragma OPENCL FP_CONTRACT on-off-switch
               on-off-switch: one of ON OFF DEFAULT
          #pragma OPENCL EXTENSION extensionname : behavior
          #pragma OPENCL EXTENSION all : behavior</pre>
</div>
</div>
<div class="paragraph">
<p>The following predefined macro names are available.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>FILE</em></code> The presumed name of the current source file (a character string literal).</p>
</li>
<li>
<p><code><em>LINE</em></code> The presumed line number (within the current source file) of the current source line (an integer constant).</p>
</li>
<li>
<p><code><em>OPENCL_VERSION</em></code> substitutes an integer reflecting the version number of the OpenCL supported by the OpenCL device.
The version of OpenCL described in this document will have <code><em>OPENCL_VERSION</em></code> substitute the integer 200.</p>
</li>
<li>
<p><code>CL_VERSION_1_0</code> substitutes the integer 100 reflecting the OpenCL 1.0 version.</p>
</li>
<li>
<p><code>CL_VERSION_1_1</code> substitutes the integer 110 reflecting the OpenCL 1.1 version.</p>
</li>
<li>
<p><code>CL_VERSION_1_2</code> substitutes the integer 120 reflecting the OpenCL 1.2 version.</p>
</li>
<li>
<p><code>CL_VERSION_2_0</code> substitutes the integer 200 reflecting the OpenCL 2.0 version.</p>
</li>
<li>
<p><code><em>OPENCL_C_VERSION</em></code> substitutes an integer reflecting the OpenCL C version specified by the <code>-cl-std</code> build option to <a href="clBuildProgram.html"><code>clBuildProgram</code></a> or <a href="clCompileProgram.html"><code>clCompileProgram</code></a>.
If the <code>-cl-std</code> build option is not specified, the highest OpenCL C 1.x language version supported by each device is used as the version of OpenCL C when compiling the program for each device.
The version of OpenCL C described in this document will have <code><em>OPENCL_C_VERSION</em></code> substitute the integer 200 if <code>â€“cl-std=CL2.0</code> is specified.</p>
</li>
<li>
<p><code><em>ENDIAN_LITTLE</em></code> is used to determine if the OpenCL device is a little endian architecture or a big endian architecture (an integer constant of 1 if device is little endian and is undefined otherwise).
Also refer to <code>CL_DEVICE_ENDIAN_LITTLE</code> specified in the table of OpenCL Device Queries for <a href="clGetDeviceInfo.html"><code>clGetDeviceInfo</code></a>.</p>
</li>
<li>
<p></p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>__kernel_exec(X, typen)</code> (and <code>kernel_exec(X, typen))</code> is defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>     __kernel __attribute__((work_group_size_hint(X, 1, 1))) \
              __attribute__((vec_type_hint(typen)))</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p><code><em>IMAGE_SUPPORT</em></code> is used to determine if the OpenCL device supports images.
This is an integer constant of 1 if images are supported and is undefined otherwise.
Also refer to <code>CL_DEVICE_IMAGE_SUPPORT</code> specified in the table of OpenCL Device Queries for <a href="clGetDeviceInfo.html"><code>clGetDeviceInfo</code></a>.</p>
</li>
<li>
<p><code><em>FAST_RELAXED_MATH</em></code> is used to determine if the cl-fast-relaxed-math optimization option is specified in build options given to <a href="clBuildProgram.html"><code>clBuildProgram</code></a> or <a href="clCompileProgram.html"><code>clCompileProgram</code></a>.
This is an integer constant of 1 if the cl-fast-relaxed-math build option is specified and is undefined otherwise.</p>
</li>
<li>
<p>The <code>NULL</code> macro expands to a null pointer constant.
An integer constant expression with the value 0, or such an expression cast to type <code>void *</code> is called a null pointer constant.</p>
</li>
<li>
<p>The macro names defined by the C99 specification but not currently supported by OpenCL are reserved for future use.</p>
</li>
<li>
<p>The predefined identifier <code><em>func</em></code> is available.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seealso">Also see</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="mathConstants.html">Symbolic Math Constants</a>, <a href="clBuildProgram.html"><code>clBuildProgram</code></a>, <a href="FP_CONTRACT.html">FP_CONTRACT</a>, <a href="EXTENSION.html">EXTENSION</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="specification">Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.khronos.org/registry/cl/specs/opencl-2.0-openclc.pdf#page=54" target="_blank">OpenCL 2.0 C Language Specification, page 54</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="copyright">Copyright</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="copyright.html">Copyright &#169; 2007-2017 The Khronos Group Inc.</a></p>
</div>
</div>
</div>
</div>
</body>
</html>