<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<title>cl_khr_gl_depth_images</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
</head>
<body id="cl_khr_gl_depth_images" class="article">
<div id="header">
<h1>cl_khr_gl_depth_images</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Extends CL/GL sharing to allow a CL image to be created from a GL depth or depth-stencil texture.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#pragma OPENCL EXTENSION cl_khr_gl_depth_images : enable</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>cl_khr_gl_depth_images</code> extension extends CL / GL sharing (i.e.
the <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> extension) defined in section 9.7 to allow a CL depth image to be created from a GL depth or depth-stencil texture.
If this extension is supported by an implementation, the string cl_khr_gl_depth_images will be present in the <code>CL_PLATFORM_EXTENSIONS</code> string described in table 4.1 or <code>CL_DEVICE_EXTENSIONS</code> string described in table 4.3.</p>
</div>
<div class="paragraph">
<p>Depth images with an image channel order of <code>CL_DEPTH_STENCIL</code> can only be created using the <a href="clCreateFromGLTexture.html"><code>clCreateFromGLTexture</code></a> API.</p>
</div>
<div class="paragraph">
<p>For the image format given by channel order of <code>CL_DEPTH_STENCIL</code> and channel data type of <code>CL_UNORM_INT24</code>, the depth is stored as an unsigned normalized 24-bit value.</p>
</div>
<div class="paragraph">
<p>For the image format given by channel order of <code>CL DEPTH_STENCIL</code> and channel data type of <code>CL_FLOAT</code>, each pixel is two 32-bit values.
The depth is stored as a single precision floating point value followed by the stencil which is stored as a 8-bit integer value.</p>
</div>
<div class="paragraph">
<p>The stencil value cannot be read or written using the read imagef and write imagef built-in functions in an OpenCL kernel.</p>
</div>
<div class="paragraph">
<p>Depth image objects with an image channel order = <code>CL_DEPTH_STENCIL</code> cannot be used as arguments to <a href="clEnqueueReadImage.html"><code>clEnqueueReadImage</code></a>, <a href="clEnqueueWriteImage.html"><code>clEnqueueWriteImage</code></a>, <a href="clEnqueueCopyImage.html"><code>clEnqueueCopyImage</code></a>, <a href="clEnqueueCopyImageToBuffer.html"><code>clEnqueueCopyImageToBuffer</code></a>, <a href="clEnqueueCopyBufferToImage.html"><code>clEnqueueCopyBufferToImage</code></a>, <a href="clEnqueueMapImage.html"><code>clEnqueueMapImage</code></a> and <a href="clEnqueueFillImage.html"><code>clEnqueueFillImage</code></a> and will return a <code>CL_INVALID_OPERATION</code> error.</p>
</div>
<div class="paragraph">
<p>The following new image formats are added to table 9.4 in section 9.7.3.1 of the OpenCL 2.1 extension specification.
If a GL texture object with an internal format from table 9.4 is successfully created by OpenGL, then there is guaranteed to be a mapping to one of the corresponding CL image format(s) in that table.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">GL internal format</th>
<th class="tableblock halign-left valign-top">CL image format (channel order, channel data type)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>GL_DEPTH_COMPONENT32F</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_DEPTH, CL_FLOAT</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>GL_DEPTH_COMPONENT16</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_DEPTH, CL_UNORM_INT16</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>GL_DEPTH24_STENCIL8</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_DEPTH_STENCIL, CL_UNORM_INT24</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>GL_DEPTH32F_STENCIL8</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_DEPTH_STENCIL, CL_FLOAT</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="specification">Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.khronos.org/registry/cl/specs/opencl-2.1-extensions.pdf#page=111" target="_blank">OpenCL 2.1 Extensions Specification, page 111</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="copyright">Copyright</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="copyright.html">Copyright &#169; 2007-2017 The Khronos Group Inc.</a></p>
</div>
</div>
</div>
</div>
</body>
</html>