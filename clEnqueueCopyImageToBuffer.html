<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<title>clEnqueueCopyImageToBuffer</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
</head>
<body id="clEnqueueCopyImageToBuffer" class="article">
<div id="header">
<h1>clEnqueueCopyImageToBuffer</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Enqueues a command to copy an image object to a buffer object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">cl_int clEnqueueCopyImageToBuffer(cl_command_queue command_queue,
                                  cl_mem src_image,
                                  cl_mem dst_buffer,
                                  const size_t *src_origin,
                                  const size_t *region,
                                  size_t dst_offset,
                                  cl_uint num_events_in_wait_list,
                                  const cl_event *event_wait_list,
                                  cl_event *event)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="parameters">Parameters</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>command_queue</code></dt>
<dd>
<p>Must be a valid host command-queue.
The OpenCL context associated with <code>command_queue</code>, <code>src_image</code>, and <code>dst_buffer</code> must be the same.</p>
</dd>
<dt class="hdlist1"><code>src_image</code></dt>
<dd>
<p>A valid image object.</p>
</dd>
<dt class="hdlist1"><code>dst_buffer</code></dt>
<dd>
<p>A valid buffer object.</p>
</dd>
<dt class="hdlist1"><code>src_origin</code></dt>
<dd>
<p>Defines the (x, y, z) offset in pixels in the 1D, 2D or 3D image, the (x, y) offset and the image index in the 2D image array or the (x) offset and the image index in the 1D image array.
If <code>src_image</code> is a 2D image object, <code>src_origin</code>[2] must be 0.
If <code>src_image</code> is a 1D image or 1D image buffer object, <code>src_origin</code>[1] and <code>src_origin</code>[2] must be 0.
If <code>src_image</code> is a 1D image array object, <code>src_origin</code>[2] must be 0.
If <code>src_image</code> is a 1D image array object, <code>src_origin</code>[1] describes the image index in the 1D image array.
If <code>src_image</code> is a 2D image array object, <code>src_origin</code>[2] describes the image index in the 2D image array.</p>
</dd>
<dt class="hdlist1"><code>region</code></dt>
<dd>
<p>Defines the (width, height, depth) in pixels of the 1D, 2D or 3D rectangle, the (width, height) in pixels of the 2D rectangle and the number of images of a 2D image array or the (width) in pixels of the 1D rectangle and the number of images of a 1D image array.
If <code>src_image</code> is a 2D image object, <code>region</code>[2] must be 1.
If <code>src_image</code> is a 1D image or 1D image buffer object, <code>region</code>[1] and <code>region</code>[2] must be 1.
If <code>src_image</code> is a 1D image array object, <code>region</code>[2] must be 1.
The values in <code>region</code> cannot be 0.</p>
</dd>
<dt class="hdlist1"><code>dst_offset</code></dt>
<dd>
<p>Refers to the offset where to begin copying data into <code>dst_buffer</code>.
The size in bytes of the region to be copied referred to as <code>dst_cb</code> is computed as <code>width * height * depth * bytes/image element</code> if <code>src_image</code> is a 3D image object, is computed as <code>width * height * bytes/image element</code> if <code>src_image</code> is a 2D image, is computed as <code>width * height * arraysize * bytes/image element</code> if <code>src_image</code> is a 2D image array object, is computed as <code>width * bytes/image element</code> if <code>src_image</code> is a 1D image or 1D image buffer object and is computed as <code>width * arraysize * bytes/image element</code> if <code>src_image</code> is a 1D image array object.</p>
</dd>
<dt class="hdlist1"><code>event_wait_list ,</code> <code>num_events_in_wait_list</code></dt>
<dd>
<p>Specify events that need to complete before this particular command can be executed.
If <code>event_wait_list</code> is NULL, then this particular command does not wait on any event to complete.
If <code>event_wait_list</code> is NULL, <code>num_events_in_wait_list</code> must be 0.
If <code>event_wait_list</code> is not NULL, the list of events pointed to by <code>event_wait_list</code> must be valid and <code>num_events_in_wait_list</code> must be greater than 0.
The events specified in <code>event_wait_list</code> act as synchronization points.
The context associated with events in <code>event_wait_list</code> and <code>command_queue</code> must be the same.
The memory associated with <code>event_wait_list</code> can be reused or freed after the function returns.</p>
</dd>
<dt class="hdlist1"><code>event</code></dt>
<dd>
<p>Returns an event object that identifies this particular copy command and can be used to query or queue a wait for this particular command to complete.
<code>event</code> can be NULL in which case it will not be possible for the application to query the status of this command or queue a wait for this command to complete.
<a href="clEnqueueBarrierWithWaitList.html"><code>clEnqueueBarrierWithWaitList</code></a> can be used instead.
If the <code>event_wait_list</code> and the <code>event</code> arguments are not NULL, the <code>event</code> argument should not refer to an element of the <code>event_wait_list</code> array.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If the mipmap extensions are enabled with <a href="cl_khr_mipmap_image.html"><code>cl_khr_mipmap_image</code></a>, calls to <a href="clEnqueueCopyImage.html"><code>clEnqueueCopyImage</code></a>, <code>clEnqueueCopyImageToBuffer</code>, and <a href="clEnqueueCopyBufferToImage.html"><code>clEnqueueCopyBufferToImage</code></a> can also be used to copy from and to a specific mip-level of a mip-mapped image.
If <code>src_image</code> argument is a 1D image, <code>src_origin</code>[1] specifies the mip-level to use.
If <code>src_image</code> argument is a 1D image array, <code>src_origin</code>[2] specifies the mip-level to use.
If <code>src_image</code> argument is a 2D image, <code>src_origin</code>[3] specifies the mip-level to use.
If <code>src_image</code> argument is a 2D image array or a 3D image, <code>src_origin</code>[3] specifies the mip-level to use.
If <code>dst_image</code> argument is a 1D image, <code>dst_origin</code>[1] specifies the mip-level to use.
If <code>dst_image</code> argument is a 1D image array, <code>dst_origin</code>[2] specifies the mip-level to use.
If <code>dst_image</code> argument is a 2D image, <code>dst_origin</code>[3] specifies the mip-level to use.
If <code>dst_image</code> argument is a 2D image array or a 3D image, <code>dst_origin</code>[3] specifies the mip-level to use.</p>
</div>
<div class="paragraph">
<p>If the mip level specified is not a valid value, these functions return the error <code>CL_INVALID_MIP_LEVEL</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="errors">Errors</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>clEnqueueCopyImageToBuffer</code> returns <code>CL_SUCCESS</code> if the function is executed successfully.
Otherwise, it returns one of the following errors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CL_INVALID_COMMAND_QUEUE</code> if <code>command_queue</code> is not a valid host command-queue.</p>
</li>
<li>
<p><code>CL_INVALID_CONTEXT</code> if the context associated with <code>command_queue</code>, <code>src_image</code> and <code>dst_buffer</code> are not the same or if the context associated with <code>command_queue</code> and events in <code>event_wait_list</code> are not the same.</p>
</li>
<li>
<p><code>CL_INVALID_MEM_OBJECT</code> if <code>src_image</code> is not a valid image object or <code>dst_buffer</code> is not a valid buffer object or if <code>src_image</code> is a 1D image buffer object created from <code>dst_buffer</code>.</p>
</li>
<li>
<p><code>CL_INVALID_VALUE</code> if the 1D, 2D, or 3D rectangular region specified by <code>src_origin</code> and <code>src_origin</code> + <code>region</code> refers to a region outside <code>src_image</code>, or if the region specified by <code>dst_offset</code> and <code>dst_offset</code> + <code>dst_cb</code> refers to a region outside <code>dst_buffer</code>.</p>
</li>
<li>
<p><code>CL_INVALID_VALUE</code> if values in <code>src_origin</code> and <code>region</code> do not follow rules described in the argument description for <code>src_origin</code> and <code>region</code>.</p>
</li>
<li>
<p><code>CL_INVALID_EVENT_WAIT_LIST</code> if <code>event_wait_list</code> is NULL and <code>num_events_in_wait_list</code> &gt; 0, or <code>event_wait_list</code> is not NULL and <code>num_events_in_wait_list</code> is 0, or if event objects in <code>event_wait_list</code> are not valid events.</p>
</li>
<li>
<p><code>CL_MISALIGNED_SUB_BUFFER_OFFSET</code> if <code>dst_buffer</code> is a sub-buffer object and <code>offset</code> specified when the sub-buffer object is created is not aligned to <code>CL_DEVICE_MEM_BASE_ADDR_ALIGN</code> value for device associated with <code>queue</code>.</p>
</li>
<li>
<p><code>CL_INVALID_IMAGE_SIZE</code> if image dimensions (image width, height, specified or compute row and/or slice pitch) for <code>src_image</code> are not supported by device associated with <code>queue</code>.</p>
</li>
<li>
<p><code>CL_IMAGE_FORMAT_NOT_SUPPORTED</code> if image format (image channel order and data type) for <code>src_image</code> are not supported by device associated with <code>queue</code>.</p>
</li>
<li>
<p><code>CL_MEM_OBJECT_ALLOCATION_FAILURE</code> if there is a failure to allocate memory for data store associated with <code>src_image</code> or <code>dst_buffer</code>.</p>
</li>
<li>
<p><code>CL_INVALID_OPERATION</code> if the device associated with <code>command_queue</code> does not support images (i.e.
<code>CL_DEVICE_IMAGE_SUPPORT</code> specified in the table of OpenCL Device Queries for <a href="clGetDeviceInfo.html"><code>clGetDeviceInfo</code></a> is <code>CL_FALSE</code>).</p>
</li>
<li>
<p><code>CL_OUT_OF_RESOURCES</code> if there is a failure to allocate resources required by the OpenCL implementation on the device.</p>
</li>
<li>
<p><code>CL_OUT_OF_HOST_MEMORY</code> if there is a failure to allocate resources required by the OpenCL implementation on the host.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seealso">Also see</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="clEnqueueReadBuffer.html"><code>clEnqueueReadBuffer</code></a>, <a href="clEnqueueWriteBuffer.html"><code>clEnqueueWriteBuffer</code></a>, <a href="clCreateBuffer.html"><code>clCreateBuffer</code></a>, <a href="clEnqueueCopyBuffer.html"><code>clEnqueueCopyBuffer</code></a>, <a href="clEnqueueCopyBufferToImage.html"><code>clEnqueueCopyBufferToImage</code></a>, <a href="cl_khr_mipmap_image.html"><code>cl_khr_mipmap_image</code></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="specification">Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.khronos.org/registry/cl/specs/opencl-2.1.pdf#page=149" target="_blank">OpenCL 2.1 API Specification, page 149</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="copyright">Copyright</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="copyright.html">Copyright &#169; 2007-2017 The Khronos Group Inc.</a></p>
</div>
</div>
</div>
</div>
</body>
</html>