<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<title>clCreateProgramWithBinary</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
</head>
<body id="clCreateProgramWithBinary" class="article">
<div id="header">
<h1>clCreateProgramWithBinary</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Creates a program object for a context, and loads the binary bits specified by <code>binary</code> into the program object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">cl_program clCreateProgramWithBinary(cl_context context,
                                     cl_uint num_devices,
                                     const cl_device_id *device_list,
                                     const size_t *lengths,
                                     const unsigned char **binaries,
                                     cl_int *binary_status,
                                     cl_int *errcode_ret)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="parameters">Parameters</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>context</code></dt>
<dd>
<p>Must be a valid OpenCL context.</p>
</dd>
<dt class="hdlist1"><code>device_list</code></dt>
<dd>
<p>A pointer to a list of devices that are in <code>context</code>.
<code>device_list</code> must be a non-NULL value.
The binaries are loaded for devices specified in this list.</p>
</dd>
<dt class="hdlist1"><code>num_devices</code></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The number of devices listed in <code>device_list</code>.</p>
</div>
<div class="paragraph">
<p>The devices associated with the program object will be the list of devices specified by <code>device_list</code>.
The list of devices specified by <code>device_list</code> must be devices associated with <code>context</code>.</p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><code>lengths</code></dt>
<dd>
<p>An array of the size in bytes of the program binaries to be loaded for devices specified by <code>device_list</code>.</p>
</dd>
<dt class="hdlist1"><code>binaries</code></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>An array of pointers to program binaries to be loaded for devices specified by <code>device_list</code>.
For each device given by <code>device_list</code>[i], the pointer to the program binary for that device is given by <code>binaries</code>[i] and the length of this corresponding binary is given by <code>lengths</code>[i].
<code>lengths</code>[i] cannot be zero and <code>binaries</code>[i] cannot be a NULL pointer.</p>
</div>
<div class="paragraph">
<p>The program binaries specified by <code>binaries</code> contain the bits that describe one of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a program executable to be run on the device(s) associated with <code>context</code>,</p>
</li>
<li>
<p>a compiled program for device(s) associated with <code>context</code>, or</p>
</li>
<li>
<p>a library of compiled programs for device(s) associated with <code>context</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The program binary can consist of either or both of device-specific code and/or implementation-specific intermediate representation (IR) which will be converted to the device-specific code.</p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><code>binary_status</code></dt>
<dd>
<p>Returns whether the program binary for each device specified in <code>device_list</code> was loaded successfully or not.
It is an array of <code>num_devices</code> entries and returns <code>CL_SUCCESS</code> in <code>binary_status</code>[i] if binary was successfully loaded for device specified by <code>device_list</code>[i]; otherwise returns <code>CL_INVALID_VALUE</code> if <code>lengths</code>[i] is zero or if <code>binaries</code>[i] is a NULL value or <code>CL_INVALID_BINARY</code> in <code>binary_status</code>[i] if program binary is not a valid binary for the specified device.
If <code>binary_status</code> is NULL, it is ignored.</p>
</dd>
<dt class="hdlist1"><code>errcode_ret</code></dt>
<dd>
<p>Returns an appropriate error code.
If <code>errcode_ret</code> is NULL, no error code is returned.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="notes">Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OpenCL allows applications to create a program object using the program source or binary and build appropriate program executables.
This can be very useful as it allows applications to load program source and then compile and link to generate a program executable online on its first instance for appropriate OpenCL devices in the system.
These executables can now be queried and cached by the application.
Future instances of the application launching will no longer need to compile and link the program executables.
The cached executables can be read and loaded by the application, which can help significantly reduce the application initialization time.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="errors">Errors</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Returns a valid non-zero program object and <code>errcode_ret</code> is set to <code>CL_SUCCESS</code> if the program object is created successfully.
Otherwise, it returns a NULL value with one of the following error values returned in <code>errcode_ret</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CL_INVALID_CONTEXT</code> if <code>context</code> is not a valid context.</p>
</li>
<li>
<p><code>CL_INVALID_VALUE</code> if <code>device_list</code> is NULL or <code>num_devices</code> is zero.</p>
</li>
<li>
<p><code>CL_INVALID_DEVICE</code> if OpenCL devices listed in <code>device_list</code> are not in the list of devices associated with <code>context</code>.</p>
</li>
<li>
<p><code>CL_INVALID_VALUE</code> if or if <code>lengths</code> or <code>binaries</code> are NULL or if any entry in <code>lengths</code>[i] or <code>binaries</code>[i] is NULL.</p>
</li>
<li>
<p><code>CL_INVALID_BINARY</code> if an invalid program binary was encountered for any device.
<code>binary_status</code> will return specific status for each device.</p>
</li>
<li>
<p><code>CL_OUT_OF_RESOURCES</code> if there is a failure to allocate resources required by the OpenCL implementation on the device.</p>
</li>
<li>
<p><code>CL_OUT_OF_HOST_MEMORY</code> if there is a failure to allocate resources required by the OpenCL implementation on the host.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seealso">Also see</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="clCreateProgramWithSource.html"><code>clCreateProgramWithSource</code></a>, <a href="clCreateProgramWithBuiltInKernels.html"><code>clCreateProgramWithBuiltInKernels</code></a>, <a href="clReleaseProgram.html"><code>clReleaseProgram</code></a>, <a href="clRetainProgram.html"><code>clRetainProgram</code></a>, <a href="classDiagram.html">Cardinality Diagram</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="specification">Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.khronos.org/registry/cl/specs/opencl-2.1.pdf#page=196" target="_blank">OpenCL 2.1 API Specification, page 196</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="copyright">Copyright</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="copyright.html">Copyright &#169; 2007-2017 The Khronos Group Inc.</a></p>
</div>
</div>
</div>
</div>
</body>
</html>