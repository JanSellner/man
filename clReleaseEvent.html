<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<title>clReleaseEvent</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
</head>
<body id="clReleaseEvent" class="article">
<div id="header">
<h1>clReleaseEvent</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Decrements the <code>event</code> reference count.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">cl_int clReleaseEvent(cl_event event)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="parameters">Parameters</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>event</code></dt>
<dd>
<p>Event object being released.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="notes">Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Decrements the <code>event</code> reference count.</p>
</div>
<div class="paragraph">
<p>The event object is deleted once the reference count becomes zero, the specific command identified by this event has completed (or terminated) and there are no commands in the command-queues of a context that require a wait for this event to complete.
Using this function to release a reference that was not obtained by creating the object or by calling <a href="clRetainEvent.html"><code>clRetainEvent</code></a> causes undefined behavior.</p>
</div>
<div class="paragraph">
<p>Developers should be careful when releasing their last reference count on events created by <a href="clCreateUserEvent.html"><code>clCreateUserEvent</code></a> that have not yet been set to status of <code>CL_COMPLETE</code> or an error.
If the user event was used in the <code>event_wait_list</code> argument passed to a <code>clEnqueue***</code> API or another application host thread is waiting for it in <a href="clWaitForEvents.html"><code>clWaitForEvents</code></a>, those commands and host threads will continue to wait for the event status to reach <code>CL_COMPLETE</code> or error, even after the user has released the object.
Since in this scenario the developer has released his last reference count to the user event, it would be in principle no longer valid for him to change the status of the event to unblock all the other machinery.
As a result the waiting tasks will wait forever, and associated events, <code>cl_mem</code> objects, command queues and contexts are likely to leak.
In-order command queues caught up in this deadlock may cease to do any work.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="errors">Errors</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Returns <code>CL_SUCCESS</code> if the function executed successfully.
Otherwise, it returns one of the following errors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CL_INVALID_EVENT</code> if <code>event</code> is not a valid event object.</p>
</li>
<li>
<p><code>CL_OUT_OF_RESOURCES</code> if there is a failure to allocate resources required by the OpenCL implementation on the device.</p>
</li>
<li>
<p><code>CL_OUT_OF_HOST_MEMORY</code> if there is a failure to allocate resources required by the OpenCL implementation on the host.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seealso">Also see</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="clGetEventInfo.html"><code>clGetEventInfo</code></a>, <a href="clRetainEvent.html"><code>clRetainEvent</code></a>, <a href="clWaitForEvents.html"><code>clWaitForEvents</code></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="specification">Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.khronos.org/registry/cl/specs/opencl-2.1.pdf#page=257" target="_blank">OpenCL 2.1 API Specification, page 257</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="copyright">Copyright</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="copyright.html">Copyright &#169; 2007-2017 The Khronos Group Inc.</a></p>
</div>
</div>
</div>
</div>
</body>
</html>