<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<title>clCreateContext</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
</head>
<body id="clCreateContext" class="article">
<div id="header">
<h1>clCreateContext</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Creates an OpenCL context.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">cl_context clCreateContext(const cl_context_properties *properties,
                           cl_uint num_devices,
                           const cl_device_id *devices,
                           void ( CL_CALLBACK *pfn_notify) const char *errinfo, const void *private_info, size_t cb, void *user_data,
                           void *user_data,
                           cl_int *errcode_ret)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An OpenCL context is created with one or more devices.
Contexts are used by the OpenCL runtime for managing objects such as command-queues, memory, program and kernel objects and for executing kernels on one or more devices specified in the context.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="parameters">Parameters</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">properties</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Specifies a list of context property names and their corresponding values.
Each property name is immediately followed by the corresponding desired value.
The list is terminated with 0.
<code>properties</code> can be NULL in which case the platform that is selected is implementation-defined.
The list of supported <code>properties</code> is described in the table below.</p>
</div>
<div class="paragraph">
<p>If the extension <a href="cl_khr_dx9_media_sharing.html"><code>cl_khr_dx9_media_sharing</code></a> is enabled, then <code>properties</code> specifies a list of context property names and their corresponding values.
Each property is followed immediately by the corresponding desired value.
The list is terminated with zero.
If a property is not specified in <code>properties</code>, then its default value (listed in the table below) is used (it is said to be specified implicitly).
If <code>properties</code> is NULL or empty (points to a list whose first value is zero), all attributes take on their default values.</p>
</div>
<div class="paragraph">
<p>If the extension <a href="cl_khr_d3d10_sharing.html"><code>cl_khr_d3d10_sharing</code></a> is enabled, then <code>properties</code> specifies a list of context property names and their corresponding values.
Each property is followed immediately by the corresponding desired value.
The list is terminated with zero.
If a property is not specified in <code>properties</code>, then its default value is used (it is said to be specified implicitly).
If <code>properties</code> is NULL or empty (points to a list whose first value is zero), all attributes take on their default value.</p>
</div>
<div class="paragraph">
<p>If the extension <a href="cl_khr_d3d11_sharing.html"><code>cl_khr_d3d11_sharing</code></a> is enabled, then <code>properties</code> specifies a list of context property names and their corresponding values.
Each property is followed immediately by the corresponding desired value.
The list is terminated with zero.
If a property is not specified in <code>properties</code>, then its default value is used (it is said to be specified implicitly).
If <code>properties</code> is NULL or empty (points to a list whose first value is zero), all attributes take on their default value.</p>
</div>
<div class="paragraph">
<p>If the extension <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> is enabled, then <code>properties</code> points to an attribute list, which is a array of ordered &lt;attribute name, value&gt; pairs terminated with zero.
If an attribute is not specified in <code>properties</code>, then its default value is used (it is said to be specified implicitly).
If <code>properties</code> is NULL or empty (points to a list whose first value is zero), all attributes take on their default values.</p>
</div>
<div class="paragraph">
<p>List of supported <code>properties</code> (Table 4.5)</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">cl_context_properties enum</th>
<th class="tableblock halign-left valign-top">Property value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_CONTEXT_PLATFORM</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>cl_platform_id</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Specifies the platform to use.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_CONTEXT_INTEROP_USER_SYNC</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>cl_bool</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Specifies whether the user is responsible for synchronization between OpenCL and other APIs.
Please refer to the specific sections in the OpenCL 2.0 extension specification that describe sharing with other APIs for restrictions on using this flag.
If <code>CL_CONTEXT_INTEROP_USER_SYNC</code> is not specified, a default of <code>CL_FALSE</code> is assumed.
OpenCL / OpenGL sharing does not support the <code>CL_CONTEXT_INTEROP_USER_SYNC</code> property defined in table 4.5.
Specifying this property when creating a context with OpenCL / OpenGL sharing will return an appropriate error.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_CONTEXT_D3D10_DEVICE_KHR</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>ID3D10Device</code> *</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Specifies the <code>ID3D10Device</code> * to use for Direct3D 10 interoperability.
The default value is NULL (applies if the extension <a href="cl_khr_d3d10_sharing.html"><code>cl_khr_d3d10_sharing</code></a> is supported)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_CONTEXT_ADAPTER_D3D9_KHR</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>IDirect3DDevice9</code> *</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Specifies an <code>IDirect3DDevice9</code> to use for D3D9 interop (applies if the <a href="cl_khr_dx9_media_sharing.html"><code>cl_khr_dx9_media_sharing</code></a> extension is supported)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_CONTEXT_ADAPTER_D3D9EX_KHR</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>IDirect3DDeviceEx</code> *</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Specifies an <code>IDirect3DDevice9Ex</code> to use for D3D9 interop (applies if the <a href="cl_khr_dx9_media_sharing.html"><code>cl_khr_dx9_media_sharing</code></a> extension is supported)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_CONTEXT_ADAPTER_DXVA_KHR</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>IDXVAHD_Device</code> *</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Specifies an <code>IDXVAHD_Device</code> to use for DXVA interop (applies if the <a href="cl_khr_dx9_media_sharing.html"><code>cl_khr_dx9_media_sharing</code></a> extension is supported)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_GL_CONTEXT_KHR</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>0, OpenGL context handle</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>OpenGL context to associated the OpenCL context with (available if the <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> extension is enabled)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_CGL_SHAREGROUP_KHR</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>0, CGL share group handle</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>CGL share group to associate the OpenCL context with (available if the <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> extension is enabled)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_EGL_DISPLAY_KHR</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>EGL_NO_DISPLAY</code>, <code>EGLDisplay</code> handle</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>EGLDisplay an OpenGL context was created with respect to (available if the <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> extension is enabled)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_GLX_DISPLAY_KHR</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>None, X handle</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>X Display an OpenGL context was created with respect to (available if the <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> extension is enabled)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_WGL_HDC_KHR</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>0, HDC handle</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>HDC an OpenGL context was created with respect to (available if the <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> extension is enabled)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_CONTEXT_D3D11_DEVICE_KHR</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>ID3D11Device</code> *</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Specifies the <code>ID3D11Device</code> * to use for Direct3D 11 interoperability.
The default value is NULL. (Applies if the <a href="cl_khr_d3d11_sharing.html"><code>cl_khr_d3d11_sharing</code></a> extension is supported.)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_CONTEXT_MEMORY_INITIALIZE_KHR</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>cl_context_memory- _initialize_khr</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Describes which memory types for the context must be initialized.
This is a bit-field, where the following values are currently supported:</p>
</div>
<div class="paragraph">
<p><code>CL_CONTEXT_MEMORY_INITIALIZE_LOCAL_KHR</code> - Initialize local memory to zeros.</p>
</div>
<div class="paragraph">
<p><code>CL_CONTEXT_MEMORY_INITIALIZE_PRIVATE_KHR</code> - Initialize private memory to zeros.</p>
</div>
<div class="paragraph">
<p>(applies if the <a href="cl_khr_initialize_memory.html"><code>cl_khr_initialize_memory</code></a> extension is supported)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>CL_CONTEXT_TERMINATE_KHR</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>cl_bool</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Specifies whether the context can be terminated.
The default value is <code>CL_FALSE</code>. (applies if the <a href="cl_khr_terminate_context.html"><code>cl_khr_terminate_context</code></a> extension is supported)</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</dd>
<dt class="hdlist1"><code>num_devices</code></dt>
<dd>
<p>The number of devices specified in the <code>devices</code> argument.</p>
</dd>
<dt class="hdlist1"><code>devices</code></dt>
<dd>
<p>A pointer to a list of unique devices returned by <a href="clGetDeviceIDs.html"><code>clGetDeviceIDs</code></a> or sub-devices created by <a href="clCreateSubDevices.html"><code>clCreateSubDevices</code></a> for a platform.
Duplicate devices specified in <code>devices</code> are ignored.</p>
</dd>
<dt class="hdlist1"><code>pfn_notify</code></dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>A callback function that can be registered by the application.
This callback function will be used by the OpenCL implementation to report information on errors during context creation as well as errors that occur at runtime in this context.
This callback function may be called asynchronously by the OpenCL implementation.
It is the application&#8217;s responsibility to ensure that the callback function is thread-safe.
If <code>pfn_notify</code> is NULL, no callback function is registered.
The parameters to this callback function are:</p>
</div>
<div class="paragraph">
<p><code>errinfo</code> is a pointer to an error string.</p>
</div>
<div class="paragraph">
<p><code>private_info</code> and <code>cb</code> represent a pointer to binary data that is returned by the OpenCL implementation that can be used to log additional information helpful in debugging the error.</p>
</div>
<div class="paragraph">
<p><code>user_data</code> is a pointer to user supplied data.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
There are a number of cases where error notifications need to be delivered due to an error that occurs outside a context.
Such notifications may not be delivered through the <code>pfn_notify</code> callback.
Where these notifications go is implementation-defined.
</td>
</tr>
</table>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><code>user_data</code></dt>
<dd>
<p>Passed as the <code>user_data</code> argument when <code>pfn_notify</code> is called.
<code>user_data</code> can be NULL.</p>
</dd>
<dt class="hdlist1"><code>errcode_ret</code></dt>
<dd>
<p>Returns an appropriate error code.
If <code>errcode_ret</code> is NULL, no error code is returned.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="notes">Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>clCreateContext</code> and <a href="clCreateContextFromType.html"><code>clCreateContextFromType</code></a> perform an implicit retain.
This is very helpful for 3rd party libraries, which typically get a context passed to them by the application.
However, it is possible that the application may delete the context without informing the library.
Allowing functions to attach to (i.e.
retain) and release a context solves the problem of a context being used by a library no longer being valid.</p>
</div>
<div class="paragraph">
<p>If the <a href="cl_khr_terminate_context.html"><code>cl_khr_terminate_context</code></a> extension is enabled, <code>CL_CONTEXT_TERMINATE_KHR</code> can be specified in the context properties only if all devices associated with the context support the ability to support context termination (i.e.
<code>CL_DEVICE_TERMINATE_CAPABILITY_CONTEXT_KHR</code> is set for <code>CL_DEVICE_TERMINATE_CAPABILITY_KHR</code>).
Otherwise, context creation fails with error code of <code>CL_INVALID_PROPERTY</code>.</p>
</div>
<div class="paragraph">
<p>If the <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> extension is enabled: Attributes control sharing of OpenCL memory objects with OpenGL buffer, texture, and renderbuffer objects as described in section 9.7.
Depending on the platform-specific API used to bind OpenGL contexts to the window system, the following attributes may be set to identify an OpenGL context:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When the CGL binding API is supported, the attribute <code>CL_CGL_SHAREGROUP_KHR</code> should be set to a <code>CGLShareGroup</code> handle to a CGL share group object.</p>
</li>
<li>
<p>When the EGL binding API is supported, the attribute <code>CL_GL_CONTEXT_KHR</code> should be set to an <code>EGLContext`handle to an OpenGL ES or OpenGL context, and the attribute `CL_EGL_DISPLAY_KHR</code> should be set to the EGLDisplay handle of the display used to create the OpenGL ES or OpenGL context.</p>
</li>
<li>
<p>When the GLX binding API is supported, the attribute <code>CL_GL_CONTEXT_KHR</code> should be set to a <code>GLXContext</code> handle to an OpenGL context, and the attribute <code>CL_GLX_DISPLAY_KHR</code> should be set to the Display handle of the X Window System display used to create the OpenGL context.</p>
</li>
<li>
<p>When the WGL binding API is supported, the attribute <code>CL_GL_CONTEXT_KHR</code> should be set to an HGLRC handle to an OpenGL context, and the attribute <code>CL_WGL_HDC_KHR</code> should be set to the HDC handle of the display used to create the OpenGL context.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> extension is enabled: Memory objects created in the context so specified may be shared with the specified OpenGL or OpenGL ES context (as well as with any other OpenGL contexts on the share list of that context, according to the description of sharing in the GLX 1.4 and EGL 1.4 specifications, and the WGL documentation for OpenGL implementations on Microsoft Windows), or with the explicitly identified OpenGL share group for CGL.
If no OpenGL or OpenGL ES context or share group is specified in the attribute list, then memory objects may not be shared, and calling any of the commands in section 9.7 will result in a <code>CL_INVALID_GL_SHAREGROUP_REFERENCE_KHR</code> error.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="errors">Errors</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>clCreateContext</code> returns a valid non-zero context and <code>errcode_ret</code> is set to <code>CL_SUCCESS</code> if the context is created successfully.
Otherwise, it returns a NULL value with the following error values returned in <code>errcode_ret</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CL_INVALID_PLATFORM</code> if <code>properties</code> is NULL and no platform could be selected or if platform value specified in <code>properties</code> is not a valid platform. (If the extension <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> is enabled, then this error is replaced with <code>CL_INVALID_GL_SHAREGROUP_REFERENCE_KHR</code>; see below.)</p>
</li>
<li>
<p><code>CL_INVALID_PROPERTY</code> if context property name in <code>properties</code> is not a supported property name, if the value specified for a supported property name is not valid, or if the same property name is specified more than once.
However if the extension <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> is enabled, then <code>CL_INVALID_PROPERTY</code> is returned if an attribute name other than those listed in the table for <code>properties</code> above or if <code>CL_CONTEXT_INTEROP_USER_SYNC</code> is specified in <code>properties</code>.</p>
</li>
<li>
<p><code>CL_INVALID_PROPERTY</code> if the <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> extension is enabled and an attribute name other than those specified in the table above (table 4.5) or if <code>CL_CONTEXT_INTEROP_USER_SYNC</code> is specified in <code>properties</code>.</p>
</li>
<li>
<p><code>CL_INVALID_VALUE</code> if <code>devices</code> is NULL; if <code>num_devices</code> is equal to zero; or if <code>pfn_notify</code> is NULL but <code>user_data</code> is not NULL.</p>
</li>
<li>
<p><code>CL_INVALID_DEVICE</code> if <code>devices</code> contains an invalid device.</p>
</li>
<li>
<p><code>CL_INVALID_OPERATION</code> if Direct3D 10 interoperability is specified by setting <code>CL_INVALID_D3D10_DEVICE_KHR</code> to a non-NULL value, and interoperability with another graphics API is also specified (if the <a href="cl_khr_d3d10_sharing.html"><code>cl_khr_d3d10_sharing</code></a> extension is enabled).</p>
</li>
<li>
<p><code>CL_DEVICE_NOT_AVAILABLE</code> if a device in <code>devices</code> is currently not available even though the device was returned by <a href="clGetDeviceIDs.html"><code>clGetDeviceIDs</code></a>.</p>
</li>
<li>
<p><code>CL_OUT_OF_RESOURCES</code> if there is a failure to allocate resources required by the OpenCL implementation on the device.</p>
</li>
<li>
<p><code>CL_OUT_OF_HOST_MEMORY</code> if there is a failure to allocate resources required by the OpenCL implementation on the host.</p>
</li>
<li>
<p><code>CL_INVALID_D3D10_DEVICE_KHR</code> if the Direct3D 10 device specified for interoperability is not compatible with the devices against which the context is to be created (if the <a href="cl_khr_d3d10_sharing.html"><code>cl_khr_d3d10_sharing</code></a> extension is enabled).</p>
</li>
<li>
<p><code>CL_INVALID_D3D10_DEVICE_KHR</code> if the value of the property <code>CL_CONTEXT_D3D10_DEVICE_KHR</code> is non-NULL and does not specify a valid Direct3D 10 device with which the <code>cl_device_ids</code> against which this context is to be created may interoperate (if the <a href="cl_khr_d3d10_sharing.html"><code>cl_khr_d3d10_sharing</code></a> extension is enabled).</p>
</li>
<li>
<p><code>CL_INVALID_GL_SHAREGROUP_REFERENCE_KHR</code> when an invalid OpenGL context or share group object handle is specified in <code>properties</code> (only if the <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> extension is enabled).</p>
</li>
<li>
<p><code>CL_INVALID_GL_SHAREGROUP_REFERENCE_KHR</code> if no OpenGL or OpenGL ES context or share group is specified in the attribute list given to <a href="#"><code>clCreateContext</code></a> and any of the commands in section 9.7 are called. (if the <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> extension is enabled)</p>
</li>
<li>
<p></p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>CL_INVALID_GL_SHAREGROUP_REFERENCE_KHR</code> if the <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> extension is enabled and if a context was specified by any of the following means:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A context specified for an EGL-based OpenGL ES or OpenGL implementation by setting the attributes <code>CL_GL_CONTEXT_KHR</code> and <code>CL_EGL_DISPLAY_KHR</code>.</p>
</li>
<li>
<p>A context was specified for a GLX-based OpenGL implementation by setting the attributes <code>CL_GL_CONTEXT_KHR</code> and <code>CL_GLX_DISPLAY_KHR</code>.</p>
</li>
<li>
<p>A context was specified for a WGL-based OpenGL implementation by setting the attributes <code>CL_GL_CONTEXT_KHR</code> and <code>CL_WGL_HDC_KHR</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>and any of the following conditions hold:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The specified display and context attributes do not identify a valid OpenGL or OpenGL ES context.</p>
</li>
<li>
<p>The specified context does not support buffer and renderbuffer objects.</p>
</li>
<li>
<p>The specified context is not compatible with the OpenCL context being created (for example, it exists in a physically distinct address space, such as another hardware device, or does not support sharing data with OpenCL due to implementation restrictions).</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p><code>CL_INVALID_GL_SHAREGROUP_REFERENCE_KHR</code> if a share group was specified for a CGL-based OpenGL implementation by setting the attribute <code>CL_CGL_SHAREGROUP_KHR</code>, and the specified share group does not identify a valid CGL share group object (if the <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> extension is enabled).</p>
</li>
<li>
<p></p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><code>CL_INVALID_OPERATION</code> if the <a href="cl_khr_gl_sharing.html"><code>cl_khr_gl_sharing</code></a> extension is enabled and if a context was specified as described above and any of the following conditions hold:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A context or share group object was specified for one of CGL, EGL, GLX, or WGL and the OpenGL implementation does not support that window-system binding API.</p>
</li>
<li>
<p>More than one of the attributes <code>CL_CGL_SHAREGROUP_KHR</code>, <code>CL_EGL_DISPLAY_KHR</code>, <code>CL_GLX_DISPLAY_KHR</code>, and <code>CL_WGL_HDC_KHR</code> is set to a non-default value.</p>
</li>
<li>
<p>Both of the attributes <code>CL_CGL_SHAREGROUP_KHR</code> and <code>CL_GL_CONTEXT_KHR</code> are set to non-default values.</p>
</li>
<li>
<p>Any of the devices specified in the <code>devices</code> argument cannot support OpenCL objects which share the data store of an OpenGL object, as described in section 9.7.</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p><code>CL_INVALID_DX9_MEDIA_ADAPTER_KHR</code> if the media adapter specified for interoperability is not compatible with the devices against which the context is to be created (only if the <a href="cl_khr_dx9_media_sharing.html"><code>cl_khr_dx9_media_sharing</code></a> extension is supported).</p>
</li>
<li>
<p><code>CL_INVALID_ADAPTER_KHR</code> if any of the values of the properties <code>CL_CONTEXT_ADAPTER_D3D9_KHR</code>, <code>CL_CONTEXT_ADAPTER_D3D9EX_KHR</code> or <code>CL_CONTEXT_ADAPTER_DXVA_KHR</code> is non-NULL and does not specify a valid media adapter with which the <code>cl_device_ids</code> against which this context is to be created may interoperate (only if the <a href="cl_khr_dx9_media_sharing.html"><code>cl_khr_dx9_media_sharing</code></a> extension is supported).</p>
</li>
<li>
<p><code>CL_INVALID_OPERATION</code> if interoperability is specified by setting <code>CL_CONTEXT_ADAPTER_D3D9_KHR</code>, <code>CL_CONTEXT_ADAPTER_D3D9EX_KHR</code> or <code>CL_CONTEXT_ADAPTER_DXVA_KHR</code> to a non-NULL value, and interoperability with another graphics API is also specified (only if the <a href="cl_khr_dx9_media_sharing.html"><code>cl_khr_dx9_media_sharing</code></a> extension is supported).</p>
</li>
<li>
<p><code>CL_INVALID_OPERATION</code> if Direct3D 11 interoperability is specified by setting <code>CL_INVALID_D3D11_DEVICE_KHR</code> to a non-NULL value, and interoperability with another graphics API is also specified (only if the <a href="cl_khr_d3d11_sharing.html"><code>cl_khr_d3d11_sharing</code></a> extension is supported).</p>
</li>
<li>
<p><code>CL_INVALID_D3D11_DEVICE_KHR</code> if the value of the property <code>CL_CONTEXT_D3D11_DEVICE_KHR</code> is non-NULL and does not specify a valid Direct3D 11 device with which the <code>cl_device_ids</code> against which this context is to be created may interoperate (only if the <a href="cl_khr_d3d11_sharing.html"><code>cl_khr_d3d11_sharing</code></a> extension is supported).</p>
</li>
<li>
<p><code>CL_INVALID_D3D11_DEVICE_KHR</code> if the Direct3D 11 device specified for interoperability is not compatible with the devices against which the context is to be created (only if the <a href="cl_khr_d3d11_sharing.html"><code>cl_khr_d3d11_sharing</code></a> extension is supported).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seealso">Also see</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="clGetDeviceIDs.html"><code>clGetDeviceIDs</code></a>, <a href="clCreateContextFromType.html"><code>clCreateContextFromType</code></a>, <a href="clRetainContext.html"><code>clRetainContext</code></a>, <a href="clReleaseContext.html"><code>clReleaseContext</code></a>, <a href="clGetContextInfo.html"><code>clGetContextInfo</code></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="specification">Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.khronos.org/registry/cl/specs/opencl-2.1.pdf#page=90" target="_blank">OpenCL 2.1 API Specification, page 90</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="copyright">Copyright</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="copyright.html">Copyright &#169; 2007-2017 The Khronos Group Inc.</a></p>
</div>
</div>
</div>
</div>
</body>
</html>