<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<title>clEnqueueSVMUnmap</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
</head>
<body id="clEnqueueSVMUnmap" class="article">
<div id="header">
<h1>clEnqueueSVMUnmap</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Enqueues a command to indicate that the host has completed updating the region given by <code>svm_ptr</code> and which was specified in a previous call to clEnqueueSVMMap.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">cl_int clEnqueueSVMUnmap(cl_command_queue command_queue,
                         void *svm_ptr,
                         cl_uint num_events_in_wait_list,
                         const cl_event *event_wait_list,
                         cl_event *event)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="parameters">Parameters</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>command_queue</code></dt>
<dd>
<p>Must be a valid host command-queue.</p>
</dd>
<dt class="hdlist1"><code>svm_ptr</code></dt>
<dd>
<p>A pointer that was specified in a previous call to <a href="clEnqueueSVMMap.html"><code>clEnqueueSVMMap</code></a>.
If <code>svm_ptr</code> is allocated using <a href="clSVMAlloc.html"><code>clSVMAlloc</code></a> then it must be allocated from the same context from which <code>command_queue</code> was created.
Otherwise the behavior is undefined.</p>
</dd>
<dt class="hdlist1"><code>event_wait_list ,</code> <code>num_events_in_wait_list</code></dt>
<dd>
<p>Specify events that need to complete before <code>clEnqueueSVMUnmap</code> can be executed.
If <code>event_wait_list</code> is NULL, then <code>clEnqueueSVMUnmap</code> does not wait on any event to complete.
If <code>event_wait_list</code> is NULL, <code>num_events_in_wait_list</code> must be 0.
If <code>event_wait_list</code> is not NULL, the list of events pointed to by <code>event_wait_list</code> must be valid and <code>num_events_in_wait_list</code> must be greater than 0.
The events specified in <code>event_wait_list</code> act as synchronization points.
The context associated with events in <code>event_wait_list</code> and <code>command_queue</code> must be the same.
The memory associated with <code>event_wait_list</code> can be reused or freed after the function returns.</p>
</dd>
<dt class="hdlist1"><code>event</code></dt>
<dd>
<p>Returns an event object that identifies this particular command and can be used to query or queue a wait for this particular command to complete.
<code>event</code> can be NULL in which case it will not be possible for the application to query the status of this command or queue a wait for this command to complete.
<a href="clEnqueueBarrierWithWaitList.html"><code>clEnqueueBarrierWithWaitList</code></a> can be used instead.
If the <code>event_wait_list</code> and the <code>event</code> arguments are not NULL, the <code>event</code> argument should not refer to an element of the <code>event_wait_list</code> array.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="notes">Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="clEnqueueSVMMap.html"><code>clEnqueueSVMMap</code></a>, and <a href="#"><code>clEnqueueSVMUnmap</code></a> act as synchronization points for the region of the SVM buffer specified in these calls.</p>
</div>
<div class="paragraph">
<p>If a coarse-grained SVM buffer is currently mapped for writing, the application must ensure that the SVM buffer is unmapped before any enqueued kernels or commands that read from or write to this SVM buffer or any of its associated <code>cl_mem</code> buffer objects begin execution; otherwise the behavior is undefined.</p>
</div>
<div class="paragraph">
<p>If a coarse-grained SVM buffer is currently mapped for reading, the application must ensure that the SVM buffer is unmapped before any enqueued kernels or commands that write to this memory object or any of its associated <code>cl_mem</code> buffer objects begin execution; otherwise the behavior is undefined.</p>
</div>
<div class="paragraph">
<p>A SVM buffer is considered as mapped if there are one or more active mappings for the SVM buffer irrespective of whether the mapped regions span the entire SVM buffer.</p>
</div>
<div class="paragraph">
<p>The above note does not apply to fine-grained SVM buffers (fine-grained buffers allocated using <a href="clSVMAlloc.html"><code>clSVMAlloc</code></a> or fine-grained system allocations).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="errors">Errors</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>clEnqueueSVMUnmap</code> returns <code>CL_SUCCESS</code> if the function is executed successfully.
Otherwise, it returns one of the following errors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CL_INVALID_COMMAND_QUEUE</code> if <code>command_queue</code> is not a valid host command-queue.</p>
</li>
<li>
<p><code>CL_INVALID_CONTEXT</code> if context associated with <code>command_queue</code> and events in <code>event_wait_list</code> are not the same.</p>
</li>
<li>
<p><code>CL_INVALID_VALUE</code> if <code>svm_ptr</code> is NULL.</p>
</li>
<li>
<p><code>CL_INVALID_EVENT_WAIT_LIST</code> if <code>event_wait_list</code> is NULL and <code>num_events_in_wait_list</code> &gt; 0, or <code>event_wait_list</code> is not NULL and <code>num_events_in_wait_list</code> is 0, or if event objects in <code>event_wait_list</code> are not valid events.</p>
</li>
<li>
<p><code>CL_OUT_OF_RESOURCES</code> if there is a failure to allocate resources required by the OpenCL implementation on the device.</p>
</li>
<li>
<p><code>CL_OUT_OF_HOST_MEMORY</code> if there is a failure to allocate resources required by the OpenCL implementation on the host.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seealso">Also see</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="sharedVirtualMemory.html">Shared Virtual Memory Functions</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="specification">Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.khronos.org/registry/cl/specs/opencl-2.1.pdf#page=185" target="_blank">OpenCL 2.1 API Specification, page 185</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="copyright">Copyright</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="copyright.html">Copyright &#169; 2007-2017 The Khronos Group Inc.</a></p>
</div>
</div>
</div>
</div>
</body>
</html>