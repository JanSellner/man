<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<title>clSetKernelArgSVMPointer</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
</head>
<body id="clSetKernelArgSVMPointer" class="article">
<div id="header">
<h1>clSetKernelArgSVMPointer</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Set a SVM pointer as the argument value for a specific argument of a kernel.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">cl_int clSetKernelArgSVMPointer(cl_kernel kernel,
                                cl_uint arg_index,
                                const void *arg_value)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="parameters">Parameters</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>kernel</code></dt>
<dd>
<p>A valid kernel object.</p>
</dd>
<dt class="hdlist1"><code>arg_index</code></dt>
<dd>
<p>The argument index.
Arguments to the kernel are referred by indices that go from 0 for the leftmost argument to <code>n</code> - 1, where <code>n</code> is the total number of arguments declared by a kernel.</p>
</dd>
<dt class="hdlist1"><code>arg_value</code></dt>
<dd>
<p>The SVM pointer that should be used as the argument value for argument specified by <code>arg_index</code>.
The SVM pointer specified is the value used by all API calls that enqueue <code>kernel</code> (<a href="clEnqueueNDRangeKernel.html"><code>clEnqueueNDRangeKernel</code></a>) until the argument value is changed by a call to <code>clSetKernelArgSVMPointer</code> for <code>kernel</code>.
The SVM pointer can only be used for arguments that are declared to be a pointer to <code>global</code> or <code>constant</code> memory.
The SVM pointer value must be aligned according to the argument type.
For example, if the argument is declared to be <code>global float4 *p</code>, the SVM pointer value passed for <code>p</code> must be at a minimum aligned to a <code>float4</code>.
The SVM pointer value specified as the argument value can be the pointer returned by <a href="clSVMAlloc.html"><code>clSVMAlloc</code></a> or can be a pointer + offset into the SVM region.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="notes">Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<div class="title">Multiple Host Threads</div>
<p>An OpenCL API call is considered to be <em>thread-safe</em> if the internal state as managed by OpenCL remains consistent when called simultaneously by multiple <em>host</em> threads.
OpenCL API calls that are <em>thread-safe</em> allow an application to call these functions in multiple <em>host</em> threads without having to implement mutual exclusion across these <em>host</em> threads i.e.
they are also re-entrant-safe.</p>
</div>
<div class="paragraph">
<p>All OpenCL API calls are thread-safe except those that modify the state of cl_kernel objects: <a href="clSetKernelArg.html"><code>clSetKernelArg</code></a>, <a href="#"><code>clSetKernelArgSVMPointer</code></a>, <a href="clSetKernelExecInfo.html"><code>clSetKernelExecInfo</code></a> and <a href="clCloneKernel.html"><code>clCloneKernel</code></a>.</p>
</div>
<div class="paragraph">
<p><a href="clSetKernelArg.html"><code>clSetKernelArg</code></a> , <a href="#"><code>clSetKernelArgSVMPointer</code></a>, <a href="clSetKernelExecInfo.html"><code>clSetKernelExecInfo</code></a> and <a href="clCloneKernel.html"><code>clCloneKernel</code></a> are safe to call from any host thread, and safe to call re-entrantly so long as concurrent calls to any combination of these API calls operate on different cl_kernel objects.
The state of the cl_kernel object is undefined if <a href="clSetKernelArg.html"><code>clSetKernelArg</code></a>, <a href="#"><code>clSetKernelArgSVMPointer</code></a>, <a href="clSetKernelExecInfo.html"><code>clSetKernelExecInfo</code></a> or <a href="clCloneKernel.html"><code>clCloneKernel</code></a> are called from multiple host threads on the same cl_kernel object at the same time.
Please note that there are additional limitations as to which OpenCL APIs may be called from OpenCL callback functions&#8201;&#8212;&#8201;please see section 5.11.</p>
</div>
<div class="paragraph">
<p>The behavior of OpenCL APIs called from an interrupt or signal handler is implementation-defined.</p>
</div>
<div class="paragraph">
<p>There is an inherent race condition in the design of OpenCL that occurs between setting a kernel argument and using the kernel with <a href="clEnqueueNDRangeKernel.html"><code>clEnqueueNDRangeKernel</code></a>.
Another host thread might change the kernel arguments between when a host thread sets the kernel arguments and then enqueues the kernel, causing the wrong kernel arguments to be enqueued.
Rather than attempt to share <code>cl_kernel</code> objects among multiple host threads, applications are strongly encouraged to make additional <code>cl_kernel</code> objects for kernel functions for each host thread.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="errors">Errors</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>clSetKernelArgSVMPointer</code> returns <code>CL_SUCCESS</code> if the function is executed successfully.
Otherwise, it returns one of the following errors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CL_INVALID_KERNEL</code> if <code>kernel</code> is not a valid kernel object.</p>
</li>
<li>
<p><code>CL_INVALID_ARG_INDEX</code> if <code>arg_index</code> is not a valid argument index.</p>
</li>
<li>
<p><code>CL_INVALID_ARG_VALUE</code> if <code>arg_value</code> specified is not a valid value.</p>
</li>
<li>
<p><code>CL_OUT_OF_RESOURCES</code> if there is a failure to allocate resources required by the OpenCL implementation on the device.</p>
</li>
<li>
<p><code>CL_OUT_OF_HOST_MEMORY</code> if there is a failure to allocate resources required by the OpenCL implementation on the host.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seealso">Also see</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="clSetKernelArg.html"><code>clSetKernelArg</code></a>, <a href="clCreateKernel.html"><code>clCreateKernel</code></a>, <a href="clCreateKernelsInProgram.html"><code>clCreateKernelsInProgram</code></a>, <a href="clReleaseKernel.html"><code>clReleaseKernel</code></a>, <a href="clRetainKernel.html"><code>clRetainKernel</code></a>, <a href="clGetKernelInfo.html"><code>clGetKernelInfo</code></a>, <a href="clGetKernelWorkGroupInfo.html"><code>clGetKernelWorkGroupInfo</code></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="specification">Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.khronos.org/registry/cl/specs/opencl-2.1.pdf#page=226" target="_blank">OpenCL 2.1 API Specification, page 226</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="copyright">Copyright</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="copyright.html">Copyright &#169; 2007-2017 The Khronos Group Inc.</a></p>
</div>
</div>
</div>
</div>
</body>
</html>